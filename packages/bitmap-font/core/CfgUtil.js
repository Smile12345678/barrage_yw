var FS=require("fire-fs"),path=require("path");const{remote:remote}=require("electron");module.exports={cfgData:{saveName:null,saveImport:null,bitMapCfg:[],savePath:null,cfgHistory:{}},setSaveName(t){this.cfgData.saveName=t,this.saveConfig()},setSaveImport(t){this.cfgData.saveImport=t,this.saveConfig()},setSavePath(t){this.cfgData.savePath=t,this.saveConfig()},setBitmapCfg(t){this.cfgData.bitMapCfg=t},saveConfig(){let t=this._getAppCfgPath();FS.writeFileSync(t,JSON.stringify(this.cfgData,null,4))},cleanConfig(){FS.unlink(this._getAppCfgPath())},_getAppCfgPath(){let t=remote.app.getPath("userData"),e=Editor.libraryPath;return e=(e=(e=e.replace(/\\/g,"-")).replace(/:/g,"-")).replace(/\//g,"-"),path.join(t,"bitmap-font-cfg-"+e+".json")},initCfg(){let t=this._getAppCfgPath();if(FS.existsSync(t)){let e=null;try{e=JSON.parse(FS.readFileSync(t,"utf-8")),this.cfgData=e}catch(t){this.cfgData={},this.saveConfig()}return e}return null}};