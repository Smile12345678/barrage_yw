<div class="layout horizontal" style="height: 100%"><div id="canvas-div" class="layout vertical flex-2" style="position: relative;"><canvas id="my-canvas" v-el:canvas @drop="drop" @dragover="dragOver" @dragenter="dragEnter" @dragleave="dragLeave" style="max-width: 100%; max-height: 100%;"></canvas><div style="position: absolute;left: 0;bottom: 0;color:black;"><div style="font: 20px bold;">{{tipFont}}</div><div>画布支持拖拽TTF字体，图片文件</div></div></div><div class="layout vertical flex-1"><div class="layout flex-1" style="overflow-y: scroll;overflow-x: hidden;"><div class="layout vertical"><ui-section><div class="header flex-1 layout horizontal">基础设置</div><ui-prop name="字体文件(TTF)" tooltip="支持拖拽TTF字体到画布"><ui-input class="flex-1" v-value="font.file" readonly="readonly"></ui-input><ui-button @confirm="onClickImportTTF" class="blue small">...</ui-button></ui-prop><ui-prop name="背景色" v-value="canvasBgColor" type="cc.Color" @change="updateFontRender"></ui-prop><ui-prop name="字体颜色" type="cc.Color" v-value="font.color" @change="updateFontRender"></ui-prop><ui-prop name="字体大小" v-value="font.size" type="number" @change="updateFontRender" min="0" max="400" step="1" snap precision="1"></ui-prop><ui-prop name="字符间距" v-value="space" type="number" @change="updateFontRender" min="0" max="100" snap step="1" precision="1"></ui-prop><ui-prop name="常用推荐字符集"><ui-select @change="onChangeCommonUseLetter" :value="curUseLetter" class="flex-1"><option v-for="item in commonUseLetters" :value="item.id">{{item.name}}</option></ui-select></ui-prop><ui-prop name="文本" auto-height><ui-text-area resize-v @change="onChangeText" v-value="font.string" class="flex-1"></ui-text-area></ui-prop></ui-section><ui-section><div class="header flex-1 layout horizontal"><ui-checkbox v-value="outline.enable" @change="updateFontRender">描边</ui-checkbox></div><ui-prop name="描边宽度" v-value="outline.width" @change="updateFontRender" type="number" min="0" max="10" step="0.1" slidable></ui-prop><ui-prop name="描边颜色" type="cc.Color" v-value="outline.color" @change="updateFontRender"></ui-prop></ui-section><ui-section><div class="header flex-1 layout horizontal"><ui-checkbox v-value="gradual.enable" @change="updateFontRender">渐变</ui-checkbox></div><ui-select v-show="false"><option value="1">线性渐变</option><option value="2">放射渐变</option><option value="3">循环渐变</option></ui-select><ui-prop name="方向"><ui-select class="flex-1" v-value="gradual.direction" @change="updateFontRender"><option v-for="direction in directions" :value="direction.value">{{direction.name}}</option></ui-select></ui-prop><ui-prop name="起始颜色" type="cc.Color" v-value="gradual.start" @change="updateFontRender"></ui-prop><ui-prop name="结束颜色" type="cc.Color" v-value="gradual.end" @change="updateFontRender"></ui-prop></ui-section><ui-section><div class="header flex-1 layout horizontal"><ui-checkbox v-value="shadow.enable" tooltip="全局生效" @change="updateFontRender">阴影</ui-checkbox></div><ui-prop name="阴影偏移" type="cc.Vec2" v-value="shadow.offset" @change="updateFontRender"></ui-prop><ui-prop name="阴影颜色" type="cc.Color" v-value="shadow.color" @change="updateFontRender"></ui-prop><ui-prop name="模糊程度" type="number" min="0" v-value="shadow.dim" @change="updateFontRender"></ui-prop></ui-section><ui-section><div class="header flex-1 layout horizontal"><ui-checkbox v-value="texture.enable" @change="updateFontRender">材质</ui-checkbox></div><ui-prop name="纹理路径" tooltip="支持拖拽图片到画布"><ui-input class="flex-1" v-value="texture.file" @change="updateFontRender"></ui-input><ui-button @confirm="onClickSelectTextureFile">...</ui-button></ui-prop><div style="max-width: 100%;height: 100px;display: flex;flex-direction: row;"><div style="width: 35%;display: flex;align-content: center;align-items: center;justify-content: center;justify-items: center;"><img :src="texture.file" style="max-width: 100%;max-height: 100%;object-fit: contain;"></div><div style="display: flex;flex-direction: column; flex: 1;justify-content: center;margin-left: 10px;"><div style="color: white">{{tipTexture1}}</div><div style="color: #00ff84">{{tipTexture2}}</div></div></div></ui-section></div></div><div><hr style="margin: 2px 0 2px 0;"><div class="header flex-1 layout horizontal" style="margin-left: 10px;">保存设置</div><ui-prop name="路径"><ui-input v-value="savePath" class="flex-1" readonly="readonly"></ui-input><ui-button @confirm="onClickSelectSavePath">...</ui-button></ui-prop><ui-prop name="文件名" tooltip="不需要拼写后缀名"><ui-input v-value="saveName" v-on:blur="onChangeSaveName" class="flex-1"></ui-input></ui-prop><div class="layout horizontal end-justified flex-1"><ui-button @confirm="onClickSaveFnt" class="green">保存</ui-button></div></div></div><canvas v-el:opentype v-show="false" style="width:800px;height: 800px;" width="800px" height="800px"></canvas></div>